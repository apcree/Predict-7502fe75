
<script src="https://d3js.org/d3.v6.min.js"></script>
<div id="tree_plot_5537cfdb06f04176a35dcbf479c7d4ba"></div>
<script>
/*
 * Copyright 2021 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 *  Plotting of decision trees generated by TF-DF.
 *
 *  A tree is a recursive structure of node objects.
 *  A node contains one or more of the following components:
 *
 *    - A value: Representing the output of the node. If the node is not a leaf,
 *      the value is only present for analysis i.e. it is not used for
 *      predictions.
 *
 *    - A condition : For non-leaf nodes, the condition (also known as split)
 *      defines a binary test to branch to the positive or negative child.
 *
 *    - An explanation: Generally a plot showing the relation between the label
 *      and the condition to give insights about the effect of the condition.
 *
 *    - Two children : For non-leaf nodes, the children nodes. The first
 *      children (i.e. "node.children[0]") is the negative children (drawn in
 *      red). The second children is the positive one (drawn in green).
 *
 */

/**
 * Plots a single decision tree into a DOM element.
 * @param {!options} options Dictionary of configurations.
 * @param {!tree} raw_tree Recursive tree structure.
 * @param {string} canvas_id Id of the output dom element.
 */
function display_tree(options, raw_tree, canvas_id) {
  console.log(options);

  // Determine the node placement.
  const tree_struct = d3.tree().nodeSize(
      [options.node_y_offset, options.node_x_offset])(d3.hierarchy(raw_tree));

  // Boundaries of the node placement.
  let x_min = Infinity;
  let x_max = -x_min;
  let y_min = Infinity;
  let y_max = -x_min;

  tree_struct.each(d => {
    if (d.x > x_max) x_max = d.x;
    if (d.x < x_min) x_min = d.x;
    if (d.y > y_max) y_max = d.y;
    if (d.y < y_min) y_min = d.y;
  });

  // Size of the plot.
  const width = y_max - y_min + options.node_x_size + options.margin * 2;
  const height = x_max - x_min + options.node_y_size + options.margin * 2 +
      options.node_y_offset - options.node_y_size;

  const plot = d3.select(canvas_id);

  // Tool tip
  options.tooltip = plot.append('div')
                        .attr('width', 100)
                        .attr('height', 100)
                        .style('padding', '4px')
                        .style('background', '#fff')
                        .style('box-shadow', '4px 4px 0px rgba(0,0,0,0.1)')
                        .style('border', '1px solid black')
                        .style('font-family', 'sans-serif')
                        .style('font-size', options.font_size)
                        .style('position', 'absolute')
                        .style('z-index', '10')
                        .attr('pointer-events', 'none')
                        .style('display', 'none');

  // Create canvas
  const svg = plot.append('svg').attr('width', width).attr('height', height);
  const graph =
      svg.style('overflow', 'visible')
          .append('g')
          .attr('font-family', 'sans-serif')
          .attr('font-size', options.font_size)
          .attr(
              'transform',
              () => `translate(${options.margin},${
                  - x_min + options.node_y_offset / 2 + options.margin})`);

  // Plot bounding box.
  if (options.show_plot_bounding_box) {
    svg.append('rect')
        .attr('width', width)
        .attr('height', height)
        .attr('fill', 'none')
        .attr('stroke-width', 1.0)
        .attr('stroke', 'black');
  }

  // Draw the edges.
  display_edges(options, graph, tree_struct);

  // Draw the nodes.
  display_nodes(options, graph, tree_struct);
}

/**
 * Draw the nodes of the tree.
 * @param {!options} options Dictionary of configurations.
 * @param {!graph} graph D3 search handle containing the graph.
 * @param {!tree_struct} tree_struct Structure of the tree (node placement,
 *     data, etc.).
 */
function display_nodes(options, graph, tree_struct) {
  const nodes = graph.append('g')
                    .selectAll('g')
                    .data(tree_struct.descendants())
                    .join('g')
                    .attr('transform', d => `translate(${d.y},${d.x})`);

  nodes.append('rect')
      .attr('x', 0.5)
      .attr('y', 0.5)
      .attr('width', options.node_x_size)
      .attr('height', options.node_y_size)
      .attr('stroke', 'lightgrey')
      .attr('stroke-width', 1)
      .attr('fill', 'white')
      .attr('y', -options.node_y_size / 2);

  // Brackets on the right of condition nodes without children.
  non_leaf_node_without_children =
      nodes.filter(node => node.data.condition != null && node.children == null)
          .append('g')
          .attr('transform', `translate(${options.node_x_size},0)`);

  non_leaf_node_without_children.append('path')
      .attr('d', 'M0,0 C 10,0 0,10 10,10')
      .attr('fill', 'none')
      .attr('stroke-width', 1.0)
      .attr('stroke', '#F00');

  non_leaf_node_without_children.append('path')
      .attr('d', 'M0,0 C 10,0 0,-10 10,-10')
      .attr('fill', 'none')
      .attr('stroke-width', 1.0)
      .attr('stroke', '#0F0');

  const node_content = nodes.append('g').attr(
      'transform',
      `translate(0,${options.node_padding - options.node_y_size / 2})`);

  node_content.append(node => create_node_element(options, node));
}

/**
 * Creates the D3 content for a single node.
 * @param {!options} options Dictionary of configurations.
 * @param {!node} node Node to draw.
 * @return {!d3} D3 content.
 */
function create_node_element(options, node) {
  // Output accumulator.
  let output = {
    // Content to draw.
    content: d3.create('svg:g'),
    // Vertical offset to the next element to draw.
    vertical_offset: 0
  };

  // Conditions.
  if (node.data.condition != null) {
    display_condition(options, node.data.condition, output);
  }

  // Values.
  if (node.data.value != null) {
    display_value(options, node.data.value, output);
  }

  // Explanations.
  if (node.data.explanation != null) {
    display_explanation(options, node.data.explanation, output);
  }

  return output.content.node();
}


/**
 * Adds a single line of text inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {string} text Text to display.
 * @param {!output} output Output display accumulator.
 */
function display_node_text(options, text, output) {
  output.content.append('text')
      .attr('x', options.node_padding)
      .attr('y', output.vertical_offset)
      .attr('alignment-baseline', 'hanging')
      .text(text);
  output.vertical_offset += 10;
}

/**
 * Adds a single line of text inside of a node with a tooltip.
 * @param {!options} options Dictionary of configurations.
 * @param {string} text Text to display.
 * @param {string} tooltip Text in the Tooltip.
 * @param {!output} output Output display accumulator.
 */
function display_node_text_with_tooltip(options, text, tooltip, output) {
  const item = output.content.append('text')
                   .attr('x', options.node_padding)
                   .attr('alignment-baseline', 'hanging')
                   .text(text);

  add_tooltip(options, item, () => tooltip);
  output.vertical_offset += 10;
}

/**
 * Adds a tooltip to a dom element.
 * @param {!options} options Dictionary of configurations.
 * @param {!dom} target Dom element to equip with a tooltip.
 * @param {!func} get_content Generates the html content of the tooltip.
 */
function add_tooltip(options, target, get_content) {
  function show(d) {
    options.tooltip.style('display', 'block');
    options.tooltip.html(get_content());
  }

  function hide(d) {
    options.tooltip.style('display', 'none');
  }

  function move(d) {
    options.tooltip.style('display', 'block');
    options.tooltip.style('left', (d.pageX + 5) + 'px');
    options.tooltip.style('top', d.pageY + 'px');
  }

  target.on('mouseover', show);
  target.on('mouseout', hide);
  target.on('mousemove', move);
}

/**
 * Adds a condition inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {!condition} condition Condition to display.
 * @param {!output} output Output display accumulator.
 */
function display_condition(options, condition, output) {
  threshold_format = d3.format('r');

  if (condition.type === 'IS_MISSING') {
    display_node_text(options, `${condition.attribute} is missing`, output);
    return;
  }

  if (condition.type === 'IS_TRUE') {
    display_node_text(options, `${condition.attribute} is true`, output);
    return;
  }

  if (condition.type === 'NUMERICAL_IS_HIGHER_THAN') {
    format = d3.format('r');
    display_node_text(
        options,
        `${condition.attribute} >= ${threshold_format(condition.threshold)}`,
        output);
    return;
  }

  if (condition.type === 'CATEGORICAL_IS_IN') {
    display_node_text_with_tooltip(
        options, `${condition.attribute} in [...]`,
        `${condition.attribute} in [${condition.mask}]`, output);
    return;
  }

  if (condition.type === 'CATEGORICAL_SET_CONTAINS') {
    display_node_text_with_tooltip(
        options, `${condition.attribute} intersect [...]`,
        `${condition.attribute} intersect [${condition.mask}]`, output);
    return;
  }

  if (condition.type === 'NUMERICAL_SPARSE_OBLIQUE') {
    display_node_text_with_tooltip(
        options, `Sparse oblique split...`,
        `[${condition.attributes}]*[${condition.weights}]>=${
            threshold_format(condition.threshold)}`,
        output);
    return;
  }

  display_node_text(
      options, `Non supported condition ${condition.type}`, output);
}

/**
 * Adds a value inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {!value} value Value to display.
 * @param {!output} output Output display accumulator.
 */
function display_value(options, value, output) {
  if (value.type === 'PROBABILITY') {
    const left_margin = 0;
    const right_margin = 50;
    const plot_width = options.node_x_size - options.node_padding * 2 -
        left_margin - right_margin;

    let cusum = Array.from(d3.cumsum(value.distribution));
    cusum.unshift(0);
    const distribution_plot = output.content.append('g').attr(
        'transform', `translate(0,${output.vertical_offset + 0.5})`);

    distribution_plot.selectAll('rect')
        .data(value.distribution)
        .join('rect')
        .attr('height', 10)
        .attr(
            'x',
            (d, i) =>
                (cusum[i] * plot_width + left_margin + options.node_padding))
        .attr('width', (d, i) => d * plot_width)
        .style('fill', (d, i) => d3.schemeSet1[i]);

    const num_examples =
        output.content.append('g')
            .attr('transform', `translate(0,${output.vertical_offset})`)
            .append('text')
            .attr('x', options.node_x_size - options.node_padding)
            .attr('alignment-baseline', 'hanging')
            .attr('text-anchor', 'end')
            .text(`(${value.num_examples})`);

    const distribution_details = d3.create('ul');
    distribution_details.selectAll('li')
        .data(value.distribution)
        .join('li')
        .append('span')
        .text(
            (d, i) =>
                'class ' + i + ': ' + d3.format('.3%')(value.distribution[i]));

    add_tooltip(options, distribution_plot, () => distribution_details.html());
    add_tooltip(options, num_examples, () => 'Number of examples');

    output.vertical_offset += 10;
    return;
  }

  if (value.type === 'REGRESSION') {
    display_node_text(
        options,
        'value: ' + d3.format('r')(value.value) + ` (` +
            d3.format('.6')(value.num_examples) + `)`,
        output);
    return;
  }

  display_node_text(options, `Non supported value ${value.type}`, output);
}

/**
 * Adds an explanation inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {!explanation} explanation Explanation to display.
 * @param {!output} output Output display accumulator.
 */
function display_explanation(options, explanation, output) {
  // Margin before the explanation.
  output.vertical_offset += 10;

  display_node_text(
      options, `Non supported explanation ${explanation.type}`, output);
}


/**
 * Draw the edges of the tree.
 * @param {!options} options Dictionary of configurations.
 * @param {!graph} graph D3 search handle containing the graph.
 * @param {!tree_struct} tree_struct Structure of the tree (node placement,
 *     data, etc.).
 */
function display_edges(options, graph, tree_struct) {
  // Draw an edge between a parent and a child node with a bezier.
  function draw_single_edge(d) {
    return 'M' + (d.source.y + options.node_x_size) + ',' + d.source.x + ' C' +
        (d.source.y + options.node_x_size + options.edge_rounding) + ',' +
        d.source.x + ' ' + (d.target.y - options.edge_rounding) + ',' +
        d.target.x + ' ' + d.target.y + ',' + d.target.x;
  }

  graph.append('g')
      .attr('fill', 'none')
      .attr('stroke-width', 1.2)
      .selectAll('path')
      .data(tree_struct.links())
      .join('path')
      .attr('d', draw_single_edge)
      .attr(
          'stroke', d => (d.target === d.source.children[0]) ? '#0F0' : '#F00');
}

display_tree({"margin": 10, "node_x_size": 160, "node_y_size": 28, "node_x_offset": 180, "node_y_offset": 33, "font_size": 10, "edge_rounding": 20, "node_padding": 2, "show_plot_bounding_box": false}, {"value": {"type": "REGRESSION", "value": 264032.78125, "num_examples": 920.0, "standard_deviation": 154084.179161586}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 2.901608943939209}, "children": [{"value": {"type": "REGRESSION", "value": 354043.71875, "num_examples": 429.0, "standard_deviation": 149757.31798694088}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1940", "1930", "1950", "1920", "1975", "1935", "1900", "1979"]}, "children": [{"value": {"type": "REGRESSION", "value": 402787.0, "num_examples": 294.0, "standard_deviation": 128507.08522209473}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2020.5}, "children": [{"value": {"type": "REGRESSION", "value": 491088.71875, "num_examples": 71.0, "standard_deviation": 166547.63106893736}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 8.5}, "children": [{"value": {"type": "REGRESSION", "value": 593089.3125, "num_examples": 28.0, "standard_deviation": 181418.46568654824}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 4.5}, "children": [{"value": {"type": "REGRESSION", "value": 796150.0, "num_examples": 10.0, "standard_deviation": 114964.57144355365}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 10.5}, "children": [{"value": {"type": "REGRESSION", "value": 752000.0, "num_examples": 5.0, "standard_deviation": 116000.0238344802}}, {"value": {"type": "REGRESSION", "value": 840300.0, "num_examples": 5.0, "standard_deviation": 95285.12394282776}}]}, {"value": {"type": "REGRESSION", "value": 480277.78125, "num_examples": 18.0, "standard_deviation": 90668.36819209486}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 519615.375, "num_examples": 13.0, "standard_deviation": 70450.75820254597}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 9.5}, "children": [{"value": {"type": "REGRESSION", "value": 481875.0, "num_examples": 8.0, "standard_deviation": 63143.54357335356}}, {"value": {"type": "REGRESSION", "value": 580000.0, "num_examples": 5.0, "standard_deviation": 24494.74484047523}}]}, {"value": {"type": "REGRESSION", "value": 378000.0, "num_examples": 5.0, "standard_deviation": 46968.070720437434}}]}]}, {"value": {"type": "REGRESSION", "value": 424669.78125, "num_examples": 43.0, "standard_deviation": 114814.5954948395}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 150250.0}, "children": [{"value": {"type": "REGRESSION", "value": 518571.4375, "num_examples": 7.0, "standard_deviation": 89351.3473091434}}, {"value": {"type": "REGRESSION", "value": 406411.125, "num_examples": 36.0, "standard_deviation": 110205.98187076215}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 445771.4375, "num_examples": 14.0, "standard_deviation": 153711.29591994127}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 5.0}, "children": [{"value": {"type": "REGRESSION", "value": 331360.0, "num_examples": 5.0, "standard_deviation": 163674.9149552246}}, {"value": {"type": "REGRESSION", "value": 509333.34375, "num_examples": 9.0, "standard_deviation": 102752.11239137074}}]}, {"value": {"type": "REGRESSION", "value": 381363.625, "num_examples": 22.0, "standard_deviation": 56793.5146990197}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1930", "1950", "1900"]}, "children": [{"value": {"type": "REGRESSION", "value": 422750.0, "num_examples": 12.0, "standard_deviation": 36391.664338600174}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 2.5}, "children": [{"value": {"type": "REGRESSION", "value": 449166.65625, "num_examples": 6.0, "standard_deviation": 18352.20105479291}}, {"value": {"type": "REGRESSION", "value": 396333.34375, "num_examples": 6.0, "standard_deviation": 30269.169588139383}}]}, {"value": {"type": "REGRESSION", "value": 331700.0, "num_examples": 10.0, "standard_deviation": 31384.858056075336}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 6.5}, "children": [{"value": {"type": "REGRESSION", "value": 313000.0, "num_examples": 5.0, "standard_deviation": 14352.720160304109}}, {"value": {"type": "REGRESSION", "value": 350400.0, "num_examples": 5.0, "standard_deviation": 32628.7918011071}}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 374672.96875, "num_examples": 223.0, "standard_deviation": 98323.86962238445}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 3.5}, "children": [{"value": {"type": "REGRESSION", "value": 416441.875, "num_examples": 83.0, "standard_deviation": 110888.8144803159}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2005.0}, "children": [{"value": {"type": "REGRESSION", "value": 429713.78125, "num_examples": 78.0, "standard_deviation": 99196.85395602528}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1930", "1950", "1935"]}, "children": [{"value": {"type": "REGRESSION", "value": 468120.75, "num_examples": 47.0, "standard_deviation": 97403.3219606877}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.7811704874038696}, "children": [{"value": {"type": "REGRESSION", "value": 493728.28125, "num_examples": 38.0, "standard_deviation": 71593.77719445205}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 2.5}, "children": [{"value": {"type": "REGRESSION", "value": 421995.84375, "num_examples": 6.0, "standard_deviation": 106795.15344171235}}, {"value": {"type": "REGRESSION", "value": 507178.125, "num_examples": 32.0, "standard_deviation": 52939.287353386004}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 5.5}, "children": [{"value": {"type": "REGRESSION", "value": 526350.0, "num_examples": 20.0, "standard_deviation": 41383.86447880396}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 145000.0}, "children": [{"value": {"type": "REGRESSION", "value": 545916.6875, "num_examples": 12.0, "standard_deviation": 32597.129846387226}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2017.5}}, {"value": {"type": "REGRESSION", "value": 497000.0, "num_examples": 8.0, "standard_deviation": 35383.571329078695}}]}, {"value": {"type": "REGRESSION", "value": 475225.0, "num_examples": 12.0, "standard_deviation": 54640.075100607246}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2013.0}, "children": [{"value": {"type": "REGRESSION", "value": 502571.4375, "num_examples": 7.0, "standard_deviation": 48532.30047491832}}, {"value": {"type": "REGRESSION", "value": 436940.0, "num_examples": 5.0, "standard_deviation": 36811.05307920418}}]}]}]}, {"value": {"type": "REGRESSION", "value": 360000.0, "num_examples": 9.0, "standard_deviation": 115951.85563365894}}]}, {"value": {"type": "REGRESSION", "value": 371483.875, "num_examples": 31.0, "standard_deviation": 68901.81105712013}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 151.3544921875}, "children": [{"value": {"type": "REGRESSION", "value": 388269.21875, "num_examples": 26.0, "standard_deviation": 51473.90046668724}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 407294.125, "num_examples": 17.0, "standard_deviation": 49002.429252967115}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2019.5}, "children": [{"value": {"type": "REGRESSION", "value": 377000.0, "num_examples": 6.0, "standard_deviation": 21408.656193231745}}, {"value": {"type": "REGRESSION", "value": 423818.1875, "num_examples": 11.0, "standard_deviation": 51839.93794507033}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2014.5}, "children": [{"value": {"type": "REGRESSION", "value": 436400.0, "num_examples": 5.0, "standard_deviation": 67140.47306357033}}, {"value": {"type": "REGRESSION", "value": 413333.34375, "num_examples": 6.0, "standard_deviation": 30470.893711139193}}]}]}, {"value": {"type": "REGRESSION", "value": 352333.34375, "num_examples": 9.0, "standard_deviation": 33816.48176719622}}]}, {"value": {"type": "REGRESSION", "value": 284200.0, "num_examples": 5.0, "standard_deviation": 81073.78967829247}}]}]}, {"value": {"type": "REGRESSION", "value": 209400.0, "num_examples": 5.0, "standard_deviation": 70715.20662488374}}]}, {"value": {"type": "REGRESSION", "value": 349910.0, "num_examples": 140.0, "standard_deviation": 80383.98345068468}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "LandUse1", "mask": ["HSE"]}, "children": [{"value": {"type": "REGRESSION", "value": 359369.46875, "num_examples": 131.0, "standard_deviation": 71767.38029703066}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2006.5}, "children": [{"value": {"type": "REGRESSION", "value": 364259.1875, "num_examples": 125.0, "standard_deviation": 69304.10942011402}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 771.0}, "children": [{"value": {"type": "REGRESSION", "value": 375102.9375, "num_examples": 102.0, "standard_deviation": 66077.1605629007}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 413111.125, "num_examples": 27.0, "standard_deviation": 74314.05040438965}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 136500.0}, "children": [{"value": {"type": "REGRESSION", "value": 464923.0625, "num_examples": 13.0, "standard_deviation": 63349.07796604398}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2017.5}, "children": [{"value": {"type": "REGRESSION", "value": 504000.0, "num_examples": 6.0, "standard_deviation": 64332.41671195013}}, {"value": {"type": "REGRESSION", "value": 431428.5625, "num_examples": 7.0, "standard_deviation": 38402.39203434075}}]}, {"value": {"type": "REGRESSION", "value": 365000.0, "num_examples": 14.0, "standard_deviation": 46008.920675389454}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 114000.0}, "children": [{"value": {"type": "REGRESSION", "value": 345222.21875, "num_examples": 9.0, "standard_deviation": 44180.2487035347}}, {"value": {"type": "REGRESSION", "value": 400600.0, "num_examples": 5.0, "standard_deviation": 21029.48938990198}}]}]}, {"value": {"type": "REGRESSION", "value": 361420.0, "num_examples": 75.0, "standard_deviation": 56943.87954094224}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 10.5}, "children": [{"value": {"type": "REGRESSION", "value": 330450.0, "num_examples": 20.0, "standard_deviation": 66371.28272378043}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1900"]}, "children": [{"value": {"type": "REGRESSION", "value": 371833.34375, "num_examples": 6.0, "standard_deviation": 98435.10505686258}}, {"value": {"type": "REGRESSION", "value": 312714.28125, "num_examples": 14.0, "standard_deviation": 33044.19598794631}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2013.0}}]}, {"value": {"type": "REGRESSION", "value": 372681.8125, "num_examples": 55.0, "standard_deviation": 48417.51649561656}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2013.5}, "children": [{"value": {"type": "REGRESSION", "value": 352166.65625, "num_examples": 30.0, "standard_deviation": 34514.55095398978}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "DevelopmentZone", "mask": ["CHAR"]}}, {"value": {"type": "REGRESSION", "value": 397300.0, "num_examples": 25.0, "standard_deviation": 51154.25015382386}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.7811704874038696}}]}]}]}, {"value": {"type": "REGRESSION", "value": 316169.53125, "num_examples": 23.0, "standard_deviation": 62501.09926919858}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 5.5}, "children": [{"value": {"type": "REGRESSION", "value": 279824.90625, "num_examples": 12.0, "standard_deviation": 64166.401772992205}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2015.5}, "children": [{"value": {"type": "REGRESSION", "value": 223733.171875, "num_examples": 6.0, "standard_deviation": 36602.13079369687}}, {"value": {"type": "REGRESSION", "value": 335916.65625, "num_examples": 6.0, "standard_deviation": 24543.215319558865}}]}, {"value": {"type": "REGRESSION", "value": 355818.1875, "num_examples": 11.0, "standard_deviation": 25753.450797260826}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 506.0}, "children": [{"value": {"type": "REGRESSION", "value": 373200.0, "num_examples": 5.0, "standard_deviation": 2399.6479741816083}}, {"value": {"type": "REGRESSION", "value": 341333.34375, "num_examples": 6.0, "standard_deviation": 27378.0566796761}}]}]}]}, {"value": {"type": "REGRESSION", "value": 257500.0, "num_examples": 6.0, "standard_deviation": 38917.64083291792}}]}, {"value": {"type": "REGRESSION", "value": 212222.21875, "num_examples": 9.0, "standard_deviation": 72690.7812491879}}]}]}]}, {"value": {"type": "REGRESSION", "value": 247891.703125, "num_examples": 135.0, "standard_deviation": 137340.48080311474}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 180.5}, "children": [{"value": {"type": "REGRESSION", "value": 390000.0, "num_examples": 6.0, "standard_deviation": 292375.3340075048}}, {"value": {"type": "REGRESSION", "value": 241282.015625, "num_examples": 129.0, "standard_deviation": 121576.2326014018}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 161250.0}, "children": [{"value": {"type": "REGRESSION", "value": 294460.0, "num_examples": 20.0, "standard_deviation": 104710.35645436417}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 401000.0, "num_examples": 7.0, "standard_deviation": 66774.65832399073}}, {"value": {"type": "REGRESSION", "value": 237092.3125, "num_examples": 13.0, "standard_deviation": 71162.92857659551}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2008.5}, "children": [{"value": {"type": "REGRESSION", "value": 279142.84375, "num_examples": 7.0, "standard_deviation": 43079.4231405488}}, {"value": {"type": "REGRESSION", "value": 188033.328125, "num_examples": 6.0, "standard_deviation": 65859.4660436566}}]}]}, {"value": {"type": "REGRESSION", "value": 231524.59375, "num_examples": 109.0, "standard_deviation": 121930.19208563794}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 10.5}, "children": [{"value": {"type": "REGRESSION", "value": 350344.4375, "num_examples": 18.0, "standard_deviation": 89157.13497105491}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.7811704874038696}, "children": [{"value": {"type": "REGRESSION", "value": 397520.0, "num_examples": 10.0, "standard_deviation": 62186.45347018925}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 604.5}, "children": [{"value": {"type": "REGRESSION", "value": 455640.0, "num_examples": 5.0, "standard_deviation": 31257.039757468938}}, {"value": {"type": "REGRESSION", "value": 339400.0, "num_examples": 5.0, "standard_deviation": 1199.43986927232}}]}, {"value": {"type": "REGRESSION", "value": 291375.0, "num_examples": 8.0, "standard_deviation": 82413.4860747924}}]}, {"value": {"type": "REGRESSION", "value": 208021.765625, "num_examples": 91.0, "standard_deviation": 113535.79637125834}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1970", "1980", "1990", "1960", "1910", "1995"]}, "children": [{"value": {"type": "REGRESSION", "value": 264023.8125, "num_examples": 21.0, "standard_deviation": 71882.41891126885}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "ValuationType", "mask": ["SV"]}, "children": [{"value": {"type": "REGRESSION", "value": 284464.28125, "num_examples": 14.0, "standard_deviation": 73574.1679506649}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2006.5}, "children": [{"value": {"type": "REGRESSION", "value": 334166.65625, "num_examples": 6.0, "standard_deviation": 76507.98259586307}}, {"value": {"type": "REGRESSION", "value": 247187.5, "num_examples": 8.0, "standard_deviation": 42902.44193224903}}]}, {"value": {"type": "REGRESSION", "value": 223142.859375, "num_examples": 7.0, "standard_deviation": 46562.34170420976}}]}, {"value": {"type": "REGRESSION", "value": 191221.140625, "num_examples": 70.0, "standard_deviation": 118254.96153967927}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2004.5}, "children": [{"value": {"type": "REGRESSION", "value": 307946.4375, "num_examples": 28.0, "standard_deviation": 94953.96226346013}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-"]}, "children": [{"value": {"type": "REGRESSION", "value": 332282.59375, "num_examples": 23.0, "standard_deviation": 87514.8152276238}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 123.0}, "children": [{"value": {"type": "REGRESSION", "value": 376375.0, "num_examples": 12.0, "standard_deviation": 59542.373250764394}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 760.0}, "children": [{"value": {"type": "REGRESSION", "value": 420083.34375, "num_examples": 6.0, "standard_deviation": 15775.475636428271}}, {"value": {"type": "REGRESSION", "value": 332666.65625, "num_examples": 6.0, "standard_deviation": 54962.58716213746}}]}, {"value": {"type": "REGRESSION", "value": 284181.8125, "num_examples": 11.0, "standard_deviation": 87816.77289138938}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 114000.0}, "children": [{"value": {"type": "REGRESSION", "value": 350000.0, "num_examples": 5.0, "standard_deviation": 53546.25078191752}}, {"value": {"type": "REGRESSION", "value": 229333.328125, "num_examples": 6.0, "standard_deviation": 71627.89693656765}}]}]}, {"value": {"type": "REGRESSION", "value": 196000.0, "num_examples": 5.0, "standard_deviation": 1999.7823881608904}}]}, {"value": {"type": "REGRESSION", "value": 113404.2890625, "num_examples": 42.0, "standard_deviation": 46449.59751442094}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1991.0}, "children": [{"value": {"type": "REGRESSION", "value": 130405.625, "num_examples": 32.0, "standard_deviation": 39362.10696036703}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 123.0}, "children": [{"value": {"type": "REGRESSION", "value": 145564.34375, "num_examples": 23.0, "standard_deviation": 27546.44711030366}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2002.5}, "children": [{"value": {"type": "REGRESSION", "value": 179000.0, "num_examples": 8.0, "standard_deviation": 15700.32763989338}}, {"value": {"type": "REGRESSION", "value": 127732.0, "num_examples": 15.0, "standard_deviation": 10853.941784746517}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 130500.0}}]}, {"value": {"type": "REGRESSION", "value": 91666.6640625, "num_examples": 9.0, "standard_deviation": 38493.86592403753}}]}, {"value": {"type": "REGRESSION", "value": 59000.0, "num_examples": 10.0, "standard_deviation": 14798.64685706096}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 3.5}, "children": [{"value": {"type": "REGRESSION", "value": 49000.0, "num_examples": 5.0, "standard_deviation": 4898.972953589354}}, {"value": {"type": "REGRESSION", "value": 69000.0, "num_examples": 5.0, "standard_deviation": 14628.737525842767}}]}]}]}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 185387.765625, "num_examples": 491.0, "standard_deviation": 107826.97948929276}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1930", "1950", "1920", "1980", "1985", "1960", "1978", "1935", "1910", "1998", "1995", "1994", "1900", "2004"]}, "children": [{"value": {"type": "REGRESSION", "value": 259804.46875, "num_examples": 123.0, "standard_deviation": 97652.70967481931}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 577.0}, "children": [{"value": {"type": "REGRESSION", "value": 325742.84375, "num_examples": 35.0, "standard_deviation": 101180.62905097505}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1980", "1985", "1910"]}, "children": [{"value": {"type": "REGRESSION", "value": 462500.0, "num_examples": 6.0, "standard_deviation": 133658.46634862552}}, {"value": {"type": "REGRESSION", "value": 297448.28125, "num_examples": 29.0, "standard_deviation": 63161.98722327278}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2017.5}, "children": [{"value": {"type": "REGRESSION", "value": 263300.0, "num_examples": 10.0, "standard_deviation": 46282.93740029898}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 8.0}, "children": [{"value": {"type": "REGRESSION", "value": 250900.0, "num_examples": 5.0, "standard_deviation": 53481.20863256554}}, {"value": {"type": "REGRESSION", "value": 275700.0, "num_examples": 5.0, "standard_deviation": 33413.483984762795}}]}, {"value": {"type": "REGRESSION", "value": 315421.0625, "num_examples": 19.0, "standard_deviation": 63442.522055689886}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1930", "1920", "1900"]}, "children": [{"value": {"type": "REGRESSION", "value": 336928.5625, "num_examples": 14.0, "standard_deviation": 58069.17584806471}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.7811704874038696}, "children": [{"value": {"type": "REGRESSION", "value": 372800.0, "num_examples": 5.0, "standard_deviation": 49732.85947942266}}, {"value": {"type": "REGRESSION", "value": 317000.0, "num_examples": 9.0, "standard_deviation": 52528.82112601506}}]}, {"value": {"type": "REGRESSION", "value": 255200.0, "num_examples": 5.0, "standard_deviation": 30518.21394511811}}]}]}]}, {"value": {"type": "REGRESSION", "value": 233578.984375, "num_examples": 88.0, "standard_deviation": 82704.38593761316}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "SaleType", "mask": ["MS"]}, "children": [{"value": {"type": "REGRESSION", "value": 330750.0, "num_examples": 12.0, "standard_deviation": 105729.30425068221}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1980", "1978"]}, "children": [{"value": {"type": "REGRESSION", "value": 445000.0, "num_examples": 5.0, "standard_deviation": 61237.20981233555}}, {"value": {"type": "REGRESSION", "value": 249142.859375, "num_examples": 7.0, "standard_deviation": 22395.334791160523}}]}, {"value": {"type": "REGRESSION", "value": 218236.1875, "num_examples": 76.0, "standard_deviation": 66548.37377401543}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 100.5}, "children": [{"value": {"type": "REGRESSION", "value": 237815.0, "num_examples": 50.0, "standard_deviation": 63221.17171169796}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 123500.0}, "children": [{"value": {"type": "REGRESSION", "value": 227838.890625, "num_examples": 45.0, "standard_deviation": 55675.52266969036}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2013.0}, "children": [{"value": {"type": "REGRESSION", "value": 196989.125, "num_examples": 23.0, "standard_deviation": 36487.67169678749}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1960", "1978", "1998", "1995"]}, "children": [{"value": {"type": "REGRESSION", "value": 219136.359375, "num_examples": 11.0, "standard_deviation": 11377.968881472972}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "LandUse1", "mask": ["BUP"]}, "children": [{"value": {"type": "REGRESSION", "value": 223166.671875, "num_examples": 6.0, "standard_deviation": 9511.65563342605}}, {"value": {"type": "REGRESSION", "value": 214300.0, "num_examples": 5.0, "standard_deviation": 11548.144924618713}}]}, {"value": {"type": "REGRESSION", "value": 176687.5, "num_examples": 12.0, "standard_deviation": 39639.66935301893}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 104.0}, "children": [{"value": {"type": "REGRESSION", "value": 152964.28125, "num_examples": 7.0, "standard_deviation": 33322.138980024654}}, {"value": {"type": "REGRESSION", "value": 209900.0, "num_examples": 5.0, "standard_deviation": 18045.49229032004}}]}]}, {"value": {"type": "REGRESSION", "value": 260090.90625, "num_examples": 22.0, "standard_deviation": 53975.92112558504}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1985", "1995", "2004"]}, "children": [{"value": {"type": "REGRESSION", "value": 317000.0, "num_examples": 7.0, "standard_deviation": 23494.627519620753}}, {"value": {"type": "REGRESSION", "value": 233533.328125, "num_examples": 15.0, "standard_deviation": 42411.26724926866}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1994"]}, "children": [{"value": {"type": "REGRESSION", "value": 265200.0, "num_examples": 5.0, "standard_deviation": 22599.988389377482}}, {"value": {"type": "REGRESSION", "value": 217700.0, "num_examples": 10.0, "standard_deviation": 41117.03191622662}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 6.0}, "children": [{"value": {"type": "REGRESSION", "value": 228600.0, "num_examples": 5.0, "standard_deviation": 50602.772161216635}}, {"value": {"type": "REGRESSION", "value": 206800.0, "num_examples": 5.0, "standard_deviation": 24144.566196144486}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 327600.0, "num_examples": 5.0, "standard_deviation": 55805.37379141905}}]}, {"value": {"type": "REGRESSION", "value": 180584.609375, "num_examples": 26.0, "standard_deviation": 55715.332243520905}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2011.0}, "children": [{"value": {"type": "REGRESSION", "value": 151085.71875, "num_examples": 14.0, "standard_deviation": 36827.33338049831}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["TRD"]}, "children": [{"value": {"type": "REGRESSION", "value": 170633.328125, "num_examples": 9.0, "standard_deviation": 23504.556645704135}}, {"value": {"type": "REGRESSION", "value": 115900.0, "num_examples": 5.0, "standard_deviation": 29618.2375707941}}]}, {"value": {"type": "REGRESSION", "value": 215000.0, "num_examples": 12.0, "standard_deviation": 54257.10625039511}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 7.0}, "children": [{"value": {"type": "REGRESSION", "value": 173600.0, "num_examples": 5.0, "standard_deviation": 62898.650872653845}}, {"value": {"type": "REGRESSION", "value": 244571.421875, "num_examples": 7.0, "standard_deviation": 11043.523129057843}}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 160514.78125, "num_examples": 368.0, "standard_deviation": 99276.33025825596}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "SaleType", "mask": ["MS"]}, "children": [{"value": {"type": "REGRESSION", "value": 413181.8125, "num_examples": 11.0, "standard_deviation": 194164.79717161454}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 7.5}, "children": [{"value": {"type": "REGRESSION", "value": 565000.0, "num_examples": 6.0, "standard_deviation": 84852.82543321702}}, {"value": {"type": "REGRESSION", "value": 231000.0, "num_examples": 5.0, "standard_deviation": 115979.31263807352}}]}, {"value": {"type": "REGRESSION", "value": 152729.53125, "num_examples": 357.0, "standard_deviation": 83487.46848946078}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2000.5}, "children": [{"value": {"type": "REGRESSION", "value": 179881.265625, "num_examples": 252.0, "standard_deviation": 80896.9067895173}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 118.0}, "children": [{"value": {"type": "REGRESSION", "value": 209320.84375, "num_examples": 82.0, "standard_deviation": 114958.21885967744}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "LandUse1", "mask": ["BUP"]}, "children": [{"value": {"type": "REGRESSION", "value": 264474.0625, "num_examples": 27.0, "standard_deviation": 135075.27123352123}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.1611883640289307}, "children": [{"value": {"type": "REGRESSION", "value": 478400.0, "num_examples": 5.0, "standard_deviation": 183199.99049781632}}, {"value": {"type": "REGRESSION", "value": 215854.546875, "num_examples": 22.0, "standard_deviation": 44714.39689317816}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1992", "1993"]}, "children": [{"value": {"type": "REGRESSION", "value": 254111.109375, "num_examples": 9.0, "standard_deviation": 35613.46740410438}}, {"value": {"type": "REGRESSION", "value": 189369.234375, "num_examples": 13.0, "standard_deviation": 28120.907716375375}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 133.0}, "children": [{"value": {"type": "REGRESSION", "value": 176912.5, "num_examples": 8.0, "standard_deviation": 24677.612521271178}}, {"value": {"type": "REGRESSION", "value": 209300.0, "num_examples": 5.0, "standard_deviation": 20884.422137085814}}]}]}]}, {"value": {"type": "REGRESSION", "value": 182245.625, "num_examples": 55.0, "standard_deviation": 92302.74411206774}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 160000.0}, "children": [{"value": {"type": "REGRESSION", "value": 268857.15625, "num_examples": 7.0, "standard_deviation": 87476.4015123566}}, {"value": {"type": "REGRESSION", "value": 169614.765625, "num_examples": 48.0, "standard_deviation": 85981.49432187417}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 5.5}, "children": [{"value": {"type": "REGRESSION", "value": 188345.15625, "num_examples": 31.0, "standard_deviation": 69926.36713235444}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 122000.0}, "children": [{"value": {"type": "REGRESSION", "value": 211427.78125, "num_examples": 18.0, "standard_deviation": 71357.39556747314}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2007.0}, "children": [{"value": {"type": "REGRESSION", "value": 235230.765625, "num_examples": 13.0, "standard_deviation": 60330.0614213229}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 9.5}}, {"value": {"type": "REGRESSION", "value": 149540.0, "num_examples": 5.0, "standard_deviation": 59701.647843254716}}]}, {"value": {"type": "REGRESSION", "value": 156384.609375, "num_examples": 13.0, "standard_deviation": 53390.48852995688}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 8.5}, "children": [{"value": {"type": "REGRESSION", "value": 185000.0, "num_examples": 8.0, "standard_deviation": 37563.27653440259}}, {"value": {"type": "REGRESSION", "value": 110600.0, "num_examples": 5.0, "standard_deviation": 41802.39365395241}}]}]}, {"value": {"type": "REGRESSION", "value": 135459.359375, "num_examples": 17.0, "standard_deviation": 100752.14348584888}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 143.3544921875}, "children": [{"value": {"type": "REGRESSION", "value": 175619.0, "num_examples": 11.0, "standard_deviation": 99799.14264388519}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 3.5}, "children": [{"value": {"type": "REGRESSION", "value": 137166.671875, "num_examples": 6.0, "standard_deviation": 71415.25363362898}}, {"value": {"type": "REGRESSION", "value": 221761.796875, "num_examples": 5.0, "standard_deviation": 109032.51377070972}}]}, {"value": {"type": "REGRESSION", "value": 61833.33203125, "num_examples": 6.0, "standard_deviation": 46084.76454920385}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 165681.0, "num_examples": 170.0, "standard_deviation": 52026.876566884945}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2003.5}, "children": [{"value": {"type": "REGRESSION", "value": 174219.28125, "num_examples": 154.0, "standard_deviation": 46725.217470287294}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 11.5}, "children": [{"value": {"type": "REGRESSION", "value": 113452.859375, "num_examples": 7.0, "standard_deviation": 66916.40649012034}}, {"value": {"type": "REGRESSION", "value": 177112.921875, "num_examples": 147.0, "standard_deviation": 43471.50704170945}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1990", "1992", "1983", "1989", "1993", "1984", "1991"]}, "children": [{"value": {"type": "REGRESSION", "value": 184823.65625, "num_examples": 93.0, "standard_deviation": 36365.65625312319}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2012.5}, "children": [{"value": {"type": "REGRESSION", "value": 167547.734375, "num_examples": 44.0, "standard_deviation": 27612.33946688888}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2021.5}, "children": [{"value": {"type": "REGRESSION", "value": 194738.46875, "num_examples": 13.0, "standard_deviation": 17815.032514123744}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1993", "1991"]}}, {"value": {"type": "REGRESSION", "value": 156145.15625, "num_examples": 31.0, "standard_deviation": 22561.4534121976}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 103.5}}]}, {"value": {"type": "REGRESSION", "value": 200336.734375, "num_examples": 49.0, "standard_deviation": 36286.04827898894}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2006.5}, "children": [{"value": {"type": "REGRESSION", "value": 215606.0625, "num_examples": 33.0, "standard_deviation": 29195.977242555906}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 4.5}}, {"value": {"type": "REGRESSION", "value": 168843.75, "num_examples": 16.0, "standard_deviation": 28311.72912305958}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 94.0}}]}]}, {"value": {"type": "REGRESSION", "value": 163833.328125, "num_examples": 54.0, "standard_deviation": 50873.02396271634}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2015.0}, "children": [{"value": {"type": "REGRESSION", "value": 139093.75, "num_examples": 32.0, "standard_deviation": 45216.39630640084}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2021.0}, "children": [{"value": {"type": "REGRESSION", "value": 156552.625, "num_examples": 19.0, "standard_deviation": 43600.12538394638}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 7.5}}, {"value": {"type": "REGRESSION", "value": 113576.921875, "num_examples": 13.0, "standard_deviation": 34025.35683068763}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 6.5}}]}, {"value": {"type": "REGRESSION", "value": 199818.1875, "num_examples": 22.0, "standard_deviation": 34547.239241937554}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 74.5}, "children": [{"value": {"type": "REGRESSION", "value": 217333.328125, "num_examples": 12.0, "standard_deviation": 37813.858388456225}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["TRD"]}}, {"value": {"type": "REGRESSION", "value": 178800.0, "num_examples": 10.0, "standard_deviation": 9997.987637519824}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 4.0}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 83500.0, "num_examples": 16.0, "standard_deviation": 17045.89146979412}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2002.5}, "children": [{"value": {"type": "REGRESSION", "value": 93111.109375, "num_examples": 9.0, "standard_deviation": 16454.948140938875}}, {"value": {"type": "REGRESSION", "value": 71142.859375, "num_examples": 7.0, "standard_deviation": 6674.651653373244}}]}]}]}, {"value": {"type": "REGRESSION", "value": 87565.3515625, "num_examples": 105.0, "standard_deviation": 44457.86773799617}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1990.5}, "children": [{"value": {"type": "REGRESSION", "value": 104459.421875, "num_examples": 69.0, "standard_deviation": 44777.748183864256}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.2811704874038696}, "children": [{"value": {"type": "REGRESSION", "value": 126219.515625, "num_examples": 41.0, "standard_deviation": 43770.19338357118}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "DevelopmentZone", "mask": ["CHAR"]}, "children": [{"value": {"type": "REGRESSION", "value": 190800.0, "num_examples": 5.0, "standard_deviation": 41595.196645766686}}, {"value": {"type": "REGRESSION", "value": 117250.0, "num_examples": 36.0, "standard_deviation": 35803.76558098014}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 161250.0}, "children": [{"value": {"type": "REGRESSION", "value": 103333.3359375, "num_examples": 18.0, "standard_deviation": 30038.862709644774}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1993.5}, "children": [{"value": {"type": "REGRESSION", "value": 75800.0, "num_examples": 5.0, "standard_deviation": 28301.2340084315}}, {"value": {"type": "REGRESSION", "value": 113923.078125, "num_examples": 13.0, "standard_deviation": 23186.406423597353}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 220000.0}, "children": [{"value": {"type": "REGRESSION", "value": 97000.0, "num_examples": 6.0, "standard_deviation": 20248.45199021397}}, {"value": {"type": "REGRESSION", "value": 128428.5703125, "num_examples": 7.0, "standard_deviation": 13823.970474269307}}]}]}, {"value": {"type": "REGRESSION", "value": 131166.671875, "num_examples": 18.0, "standard_deviation": 35695.08039554536}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 156250.0}, "children": [{"value": {"type": "REGRESSION", "value": 184000.0, "num_examples": 5.0, "standard_deviation": 2000.0383996309856}}, {"value": {"type": "REGRESSION", "value": 110846.15625, "num_examples": 13.0, "standard_deviation": 16617.158184544627}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 123.0}, "children": [{"value": {"type": "REGRESSION", "value": 122800.0, "num_examples": 5.0, "standard_deviation": 12812.479916081835}}, {"value": {"type": "REGRESSION", "value": 103375.0, "num_examples": 8.0, "standard_deviation": 14176.89045594978}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 72596.4296875, "num_examples": 28.0, "standard_deviation": 20666.250274003636}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "SaleType", "mask": ["NM"]}, "children": [{"value": {"type": "REGRESSION", "value": 78869.5625, "num_examples": 23.0, "standard_deviation": 17026.971371087508}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 128.0}, "children": [{"value": {"type": "REGRESSION", "value": 99333.3359375, "num_examples": 6.0, "standard_deviation": 19128.222871511698}}, {"value": {"type": "REGRESSION", "value": 71647.0625, "num_examples": 17.0, "standard_deviation": 7946.07514267332}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1995.5}, "children": [{"value": {"type": "REGRESSION", "value": 68791.6640625, "num_examples": 12.0, "standard_deviation": 6011.992893837728}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 80.5}, "children": [{"value": {"type": "REGRESSION", "value": 71250.0, "num_examples": 6.0, "standard_deviation": 6681.752764058245}}, {"value": {"type": "REGRESSION", "value": 66333.3359375, "num_examples": 6.0, "standard_deviation": 3944.0450752439806}}]}, {"value": {"type": "REGRESSION", "value": 78500.0, "num_examples": 5.0, "standard_deviation": 7835.815005473278}}]}]}, {"value": {"type": "REGRESSION", "value": 43740.0, "num_examples": 5.0, "standard_deviation": 6662.61089963987}}]}]}, {"value": {"type": "REGRESSION", "value": 55185.0546875, "num_examples": 36.0, "standard_deviation": 18063.020732892754}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 190750.0}, "children": [{"value": {"type": "REGRESSION", "value": 41929.66796875, "num_examples": 6.0, "standard_deviation": 26084.4921978984}}, {"value": {"type": "REGRESSION", "value": 57836.1328125, "num_examples": 30.0, "standard_deviation": 14604.034875639287}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1988.5}, "children": [{"value": {"type": "REGRESSION", "value": 66384.6171875, "num_examples": 13.0, "standard_deviation": 13798.203838172682}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "LandUse1", "mask": ["BUP", "GTP"]}, "children": [{"value": {"type": "REGRESSION", "value": 69000.0, "num_examples": 8.0, "standard_deviation": 9526.273563151542}}, {"value": {"type": "REGRESSION", "value": 62200.0, "num_examples": 5.0, "standard_deviation": 17926.51417314588}}]}, {"value": {"type": "REGRESSION", "value": 51299.05859375, "num_examples": 17.0, "standard_deviation": 11496.284660556212}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["NBH", "TRD"]}, "children": [{"value": {"type": "REGRESSION", "value": 54583.33203125, "num_examples": 12.0, "standard_deviation": 9103.189746212907}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "DevelopmentZone", "mask": ["LRES"]}, "children": [{"value": {"type": "REGRESSION", "value": 58142.85546875, "num_examples": 7.0, "standard_deviation": 8021.019162685193}}, {"value": {"type": "REGRESSION", "value": 49600.0, "num_examples": 5.0, "standard_deviation": 8138.795979750322}}]}, {"value": {"type": "REGRESSION", "value": 43416.80078125, "num_examples": 5.0, "standard_deviation": 12745.926759557346}}]}]}]}]}]}]}]}]}, "#tree_plot_5537cfdb06f04176a35dcbf479c7d4ba")
</script>
