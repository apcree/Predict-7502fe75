
<script src="https://d3js.org/d3.v6.min.js"></script>
<div id="tree_plot_333c3a0cb874416580407b1fe660286b"></div>
<script>
/*
 * Copyright 2021 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 *  Plotting of decision trees generated by TF-DF.
 *
 *  A tree is a recursive structure of node objects.
 *  A node contains one or more of the following components:
 *
 *    - A value: Representing the output of the node. If the node is not a leaf,
 *      the value is only present for analysis i.e. it is not used for
 *      predictions.
 *
 *    - A condition : For non-leaf nodes, the condition (also known as split)
 *      defines a binary test to branch to the positive or negative child.
 *
 *    - An explanation: Generally a plot showing the relation between the label
 *      and the condition to give insights about the effect of the condition.
 *
 *    - Two children : For non-leaf nodes, the children nodes. The first
 *      children (i.e. "node.children[0]") is the negative children (drawn in
 *      red). The second children is the positive one (drawn in green).
 *
 */

/**
 * Plots a single decision tree into a DOM element.
 * @param {!options} options Dictionary of configurations.
 * @param {!tree} raw_tree Recursive tree structure.
 * @param {string} canvas_id Id of the output dom element.
 */
function display_tree(options, raw_tree, canvas_id) {
  console.log(options);

  // Determine the node placement.
  const tree_struct = d3.tree().nodeSize(
      [options.node_y_offset, options.node_x_offset])(d3.hierarchy(raw_tree));

  // Boundaries of the node placement.
  let x_min = Infinity;
  let x_max = -x_min;
  let y_min = Infinity;
  let y_max = -x_min;

  tree_struct.each(d => {
    if (d.x > x_max) x_max = d.x;
    if (d.x < x_min) x_min = d.x;
    if (d.y > y_max) y_max = d.y;
    if (d.y < y_min) y_min = d.y;
  });

  // Size of the plot.
  const width = y_max - y_min + options.node_x_size + options.margin * 2;
  const height = x_max - x_min + options.node_y_size + options.margin * 2 +
      options.node_y_offset - options.node_y_size;

  const plot = d3.select(canvas_id);

  // Tool tip
  options.tooltip = plot.append('div')
                        .attr('width', 100)
                        .attr('height', 100)
                        .style('padding', '4px')
                        .style('background', '#fff')
                        .style('box-shadow', '4px 4px 0px rgba(0,0,0,0.1)')
                        .style('border', '1px solid black')
                        .style('font-family', 'sans-serif')
                        .style('font-size', options.font_size)
                        .style('position', 'absolute')
                        .style('z-index', '10')
                        .attr('pointer-events', 'none')
                        .style('display', 'none');

  // Create canvas
  const svg = plot.append('svg').attr('width', width).attr('height', height);
  const graph =
      svg.style('overflow', 'visible')
          .append('g')
          .attr('font-family', 'sans-serif')
          .attr('font-size', options.font_size)
          .attr(
              'transform',
              () => `translate(${options.margin},${
                  - x_min + options.node_y_offset / 2 + options.margin})`);

  // Plot bounding box.
  if (options.show_plot_bounding_box) {
    svg.append('rect')
        .attr('width', width)
        .attr('height', height)
        .attr('fill', 'none')
        .attr('stroke-width', 1.0)
        .attr('stroke', 'black');
  }

  // Draw the edges.
  display_edges(options, graph, tree_struct);

  // Draw the nodes.
  display_nodes(options, graph, tree_struct);
}

/**
 * Draw the nodes of the tree.
 * @param {!options} options Dictionary of configurations.
 * @param {!graph} graph D3 search handle containing the graph.
 * @param {!tree_struct} tree_struct Structure of the tree (node placement,
 *     data, etc.).
 */
function display_nodes(options, graph, tree_struct) {
  const nodes = graph.append('g')
                    .selectAll('g')
                    .data(tree_struct.descendants())
                    .join('g')
                    .attr('transform', d => `translate(${d.y},${d.x})`);

  nodes.append('rect')
      .attr('x', 0.5)
      .attr('y', 0.5)
      .attr('width', options.node_x_size)
      .attr('height', options.node_y_size)
      .attr('stroke', 'lightgrey')
      .attr('stroke-width', 1)
      .attr('fill', 'white')
      .attr('y', -options.node_y_size / 2);

  // Brackets on the right of condition nodes without children.
  non_leaf_node_without_children =
      nodes.filter(node => node.data.condition != null && node.children == null)
          .append('g')
          .attr('transform', `translate(${options.node_x_size},0)`);

  non_leaf_node_without_children.append('path')
      .attr('d', 'M0,0 C 10,0 0,10 10,10')
      .attr('fill', 'none')
      .attr('stroke-width', 1.0)
      .attr('stroke', '#F00');

  non_leaf_node_without_children.append('path')
      .attr('d', 'M0,0 C 10,0 0,-10 10,-10')
      .attr('fill', 'none')
      .attr('stroke-width', 1.0)
      .attr('stroke', '#0F0');

  const node_content = nodes.append('g').attr(
      'transform',
      `translate(0,${options.node_padding - options.node_y_size / 2})`);

  node_content.append(node => create_node_element(options, node));
}

/**
 * Creates the D3 content for a single node.
 * @param {!options} options Dictionary of configurations.
 * @param {!node} node Node to draw.
 * @return {!d3} D3 content.
 */
function create_node_element(options, node) {
  // Output accumulator.
  let output = {
    // Content to draw.
    content: d3.create('svg:g'),
    // Vertical offset to the next element to draw.
    vertical_offset: 0
  };

  // Conditions.
  if (node.data.condition != null) {
    display_condition(options, node.data.condition, output);
  }

  // Values.
  if (node.data.value != null) {
    display_value(options, node.data.value, output);
  }

  // Explanations.
  if (node.data.explanation != null) {
    display_explanation(options, node.data.explanation, output);
  }

  return output.content.node();
}


/**
 * Adds a single line of text inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {string} text Text to display.
 * @param {!output} output Output display accumulator.
 */
function display_node_text(options, text, output) {
  output.content.append('text')
      .attr('x', options.node_padding)
      .attr('y', output.vertical_offset)
      .attr('alignment-baseline', 'hanging')
      .text(text);
  output.vertical_offset += 10;
}

/**
 * Adds a single line of text inside of a node with a tooltip.
 * @param {!options} options Dictionary of configurations.
 * @param {string} text Text to display.
 * @param {string} tooltip Text in the Tooltip.
 * @param {!output} output Output display accumulator.
 */
function display_node_text_with_tooltip(options, text, tooltip, output) {
  const item = output.content.append('text')
                   .attr('x', options.node_padding)
                   .attr('alignment-baseline', 'hanging')
                   .text(text);

  add_tooltip(options, item, () => tooltip);
  output.vertical_offset += 10;
}

/**
 * Adds a tooltip to a dom element.
 * @param {!options} options Dictionary of configurations.
 * @param {!dom} target Dom element to equip with a tooltip.
 * @param {!func} get_content Generates the html content of the tooltip.
 */
function add_tooltip(options, target, get_content) {
  function show(d) {
    options.tooltip.style('display', 'block');
    options.tooltip.html(get_content());
  }

  function hide(d) {
    options.tooltip.style('display', 'none');
  }

  function move(d) {
    options.tooltip.style('display', 'block');
    options.tooltip.style('left', (d.pageX + 5) + 'px');
    options.tooltip.style('top', d.pageY + 'px');
  }

  target.on('mouseover', show);
  target.on('mouseout', hide);
  target.on('mousemove', move);
}

/**
 * Adds a condition inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {!condition} condition Condition to display.
 * @param {!output} output Output display accumulator.
 */
function display_condition(options, condition, output) {
  threshold_format = d3.format('r');

  if (condition.type === 'IS_MISSING') {
    display_node_text(options, `${condition.attribute} is missing`, output);
    return;
  }

  if (condition.type === 'IS_TRUE') {
    display_node_text(options, `${condition.attribute} is true`, output);
    return;
  }

  if (condition.type === 'NUMERICAL_IS_HIGHER_THAN') {
    format = d3.format('r');
    display_node_text(
        options,
        `${condition.attribute} >= ${threshold_format(condition.threshold)}`,
        output);
    return;
  }

  if (condition.type === 'CATEGORICAL_IS_IN') {
    display_node_text_with_tooltip(
        options, `${condition.attribute} in [...]`,
        `${condition.attribute} in [${condition.mask}]`, output);
    return;
  }

  if (condition.type === 'CATEGORICAL_SET_CONTAINS') {
    display_node_text_with_tooltip(
        options, `${condition.attribute} intersect [...]`,
        `${condition.attribute} intersect [${condition.mask}]`, output);
    return;
  }

  if (condition.type === 'NUMERICAL_SPARSE_OBLIQUE') {
    display_node_text_with_tooltip(
        options, `Sparse oblique split...`,
        `[${condition.attributes}]*[${condition.weights}]>=${
            threshold_format(condition.threshold)}`,
        output);
    return;
  }

  display_node_text(
      options, `Non supported condition ${condition.type}`, output);
}

/**
 * Adds a value inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {!value} value Value to display.
 * @param {!output} output Output display accumulator.
 */
function display_value(options, value, output) {
  if (value.type === 'PROBABILITY') {
    const left_margin = 0;
    const right_margin = 50;
    const plot_width = options.node_x_size - options.node_padding * 2 -
        left_margin - right_margin;

    let cusum = Array.from(d3.cumsum(value.distribution));
    cusum.unshift(0);
    const distribution_plot = output.content.append('g').attr(
        'transform', `translate(0,${output.vertical_offset + 0.5})`);

    distribution_plot.selectAll('rect')
        .data(value.distribution)
        .join('rect')
        .attr('height', 10)
        .attr(
            'x',
            (d, i) =>
                (cusum[i] * plot_width + left_margin + options.node_padding))
        .attr('width', (d, i) => d * plot_width)
        .style('fill', (d, i) => d3.schemeSet1[i]);

    const num_examples =
        output.content.append('g')
            .attr('transform', `translate(0,${output.vertical_offset})`)
            .append('text')
            .attr('x', options.node_x_size - options.node_padding)
            .attr('alignment-baseline', 'hanging')
            .attr('text-anchor', 'end')
            .text(`(${value.num_examples})`);

    const distribution_details = d3.create('ul');
    distribution_details.selectAll('li')
        .data(value.distribution)
        .join('li')
        .append('span')
        .text(
            (d, i) =>
                'class ' + i + ': ' + d3.format('.3%')(value.distribution[i]));

    add_tooltip(options, distribution_plot, () => distribution_details.html());
    add_tooltip(options, num_examples, () => 'Number of examples');

    output.vertical_offset += 10;
    return;
  }

  if (value.type === 'REGRESSION') {
    display_node_text(
        options,
        'value: ' + d3.format('r')(value.value) + ` (` +
            d3.format('.6')(value.num_examples) + `)`,
        output);
    return;
  }

  display_node_text(options, `Non supported value ${value.type}`, output);
}

/**
 * Adds an explanation inside of a node.
 * @param {!options} options Dictionary of configurations.
 * @param {!explanation} explanation Explanation to display.
 * @param {!output} output Output display accumulator.
 */
function display_explanation(options, explanation, output) {
  // Margin before the explanation.
  output.vertical_offset += 10;

  display_node_text(
      options, `Non supported explanation ${explanation.type}`, output);
}


/**
 * Draw the edges of the tree.
 * @param {!options} options Dictionary of configurations.
 * @param {!graph} graph D3 search handle containing the graph.
 * @param {!tree_struct} tree_struct Structure of the tree (node placement,
 *     data, etc.).
 */
function display_edges(options, graph, tree_struct) {
  // Draw an edge between a parent and a child node with a bezier.
  function draw_single_edge(d) {
    return 'M' + (d.source.y + options.node_x_size) + ',' + d.source.x + ' C' +
        (d.source.y + options.node_x_size + options.edge_rounding) + ',' +
        d.source.x + ' ' + (d.target.y - options.edge_rounding) + ',' +
        d.target.x + ' ' + d.target.y + ',' + d.target.x;
  }

  graph.append('g')
      .attr('fill', 'none')
      .attr('stroke-width', 1.2)
      .selectAll('path')
      .data(tree_struct.links())
      .join('path')
      .attr('d', draw_single_edge)
      .attr(
          'stroke', d => (d.target === d.source.children[0]) ? '#0F0' : '#F00');
}

display_tree({"margin": 10, "node_x_size": 160, "node_y_size": 28, "node_x_offset": 180, "node_y_offset": 33, "font_size": 10, "edge_rounding": 20, "node_padding": 2, "show_plot_bounding_box": false}, {"value": {"type": "REGRESSION", "value": 269172.125, "num_examples": 965.0, "standard_deviation": 160436.1881942305}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 2.9251461029052734}, "children": [{"value": {"type": "REGRESSION", "value": 354888.9375, "num_examples": 466.0, "standard_deviation": 154356.89770467018}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2004.5}, "children": [{"value": {"type": "REGRESSION", "value": 398200.125, "num_examples": 391.0, "standard_deviation": 126073.51663984892}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.6698565483093262}, "children": [{"value": {"type": "REGRESSION", "value": 448286.03125, "num_examples": 204.0, "standard_deviation": 134526.31700970343}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1930", "1900"]}, "children": [{"value": {"type": "REGRESSION", "value": 525642.875, "num_examples": 56.0, "standard_deviation": 139890.69271136395}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 132500.0}, "children": [{"value": {"type": "REGRESSION", "value": 567597.5625, "num_examples": 41.0, "standard_deviation": 126889.37868446358}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2021.5}, "children": [{"value": {"type": "REGRESSION", "value": 693958.3125, "num_examples": 12.0, "standard_deviation": 73360.22102762661}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 4.5}, "children": [{"value": {"type": "REGRESSION", "value": 767500.0, "num_examples": 5.0, "standard_deviation": 47827.648539313}}, {"value": {"type": "REGRESSION", "value": 641428.5625, "num_examples": 7.0, "standard_deviation": 31135.027692098756}}]}, {"value": {"type": "REGRESSION", "value": 515310.34375, "num_examples": 29.0, "standard_deviation": 105808.4888870961}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 5.5}, "children": [{"value": {"type": "REGRESSION", "value": 372000.0, "num_examples": 5.0, "standard_deviation": 73576.50407568981}}, {"value": {"type": "REGRESSION", "value": 545166.6875, "num_examples": 24.0, "standard_deviation": 85028.73778252183}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 149750.0}, "children": [{"value": {"type": "REGRESSION", "value": 477500.0, "num_examples": 8.0, "standard_deviation": 72522.38926014504}}, {"value": {"type": "REGRESSION", "value": 579000.0, "num_examples": 16.0, "standard_deviation": 69144.75806595899}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2017.0}, "children": [{"value": {"type": "REGRESSION", "value": 541000.0, "num_examples": 9.0, "standard_deviation": 60367.36124761459}}, {"value": {"type": "REGRESSION", "value": 627857.125, "num_examples": 7.0, "standard_deviation": 44709.94375632683}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 410966.65625, "num_examples": 15.0, "standard_deviation": 105300.11883922802}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2019.5}, "children": [{"value": {"type": "REGRESSION", "value": 482142.84375, "num_examples": 7.0, "standard_deviation": 109499.0908082653}}, {"value": {"type": "REGRESSION", "value": 348687.5, "num_examples": 8.0, "standard_deviation": 44580.63166611707}}]}]}, {"value": {"type": "REGRESSION", "value": 419015.875, "num_examples": 148.0, "standard_deviation": 120080.55833002305}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2020.5}, "children": [{"value": {"type": "REGRESSION", "value": 481172.5, "num_examples": 40.0, "standard_deviation": 122862.30639113853}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 171.5}, "children": [{"value": {"type": "REGRESSION", "value": 714000.0, "num_examples": 5.0, "standard_deviation": 87258.29420290091}}, {"value": {"type": "REGRESSION", "value": 447911.4375, "num_examples": 35.0, "standard_deviation": 85518.94015990544}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 147500.0}, "children": [{"value": {"type": "REGRESSION", "value": 375483.34375, "num_examples": 6.0, "standard_deviation": 121691.13453146676}}, {"value": {"type": "REGRESSION", "value": 462896.5625, "num_examples": 29.0, "standard_deviation": 66729.68853598378}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1950"]}, "children": [{"value": {"type": "REGRESSION", "value": 550000.0, "num_examples": 5.0, "standard_deviation": 69498.22848965297}}, {"value": {"type": "REGRESSION", "value": 444750.0, "num_examples": 24.0, "standard_deviation": 49642.25357495367}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 135674.875}, "children": [{"value": {"type": "REGRESSION", "value": 404000.0, "num_examples": 6.0, "standard_deviation": 60152.558404997675}}, {"value": {"type": "REGRESSION", "value": 458333.34375, "num_examples": 18.0, "standard_deviation": 36628.767128219224}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1970", "1975"]}, "children": [{"value": {"type": "REGRESSION", "value": 470416.65625, "num_examples": 12.0, "standard_deviation": 19306.563708289184}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 560.5}}, {"value": {"type": "REGRESSION", "value": 434166.65625, "num_examples": 6.0, "standard_deviation": 49025.21058484997}}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 395994.90625, "num_examples": 108.0, "standard_deviation": 110490.59300259678}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["NBH", "NOT"]}, "children": [{"value": {"type": "REGRESSION", "value": 408832.84375, "num_examples": 99.0, "standard_deviation": 100956.23690801414}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 151.5}, "children": [{"value": {"type": "REGRESSION", "value": 518730.78125, "num_examples": 13.0, "standard_deviation": 69640.15168780569}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 543937.5, "num_examples": 8.0, "standard_deviation": 63355.83368364748}}, {"value": {"type": "REGRESSION", "value": 478400.0, "num_examples": 5.0, "standard_deviation": 59530.12215005117}}]}, {"value": {"type": "REGRESSION", "value": 392220.34375, "num_examples": 86.0, "standard_deviation": 94329.65479941071}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 150250.0}, "children": [{"value": {"type": "REGRESSION", "value": 445792.65625, "num_examples": 34.0, "standard_deviation": 74348.2170429371}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2014.5}, "children": [{"value": {"type": "REGRESSION", "value": 415263.15625, "num_examples": 19.0, "standard_deviation": 73696.98689353322}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1950", "1920"]}, "children": [{"value": {"type": "REGRESSION", "value": 463000.0, "num_examples": 10.0, "standard_deviation": 34942.75510603012}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "DevelopmentZone", "mask": ["LRES"]}}, {"value": {"type": "REGRESSION", "value": 362222.21875, "num_examples": 9.0, "standard_deviation": 69021.3989905833}}]}, {"value": {"type": "REGRESSION", "value": 484463.34375, "num_examples": 15.0, "standard_deviation": 54532.19541355568}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 167500.0}, "children": [{"value": {"type": "REGRESSION", "value": 449850.0, "num_examples": 7.0, "standard_deviation": 58061.68495660456}}, {"value": {"type": "REGRESSION", "value": 514750.0, "num_examples": 8.0, "standard_deviation": 25698.864021586636}}]}]}, {"value": {"type": "REGRESSION", "value": 357192.3125, "num_examples": 52.0, "standard_deviation": 89433.37060832979}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 121000.0}, "children": [{"value": {"type": "REGRESSION", "value": 380500.0, "num_examples": 35.0, "standard_deviation": 63117.00609593489}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2012.0}, "children": [{"value": {"type": "REGRESSION", "value": 365100.0, "num_examples": 25.0, "standard_deviation": 54074.016515143405}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2016.0}}, {"value": {"type": "REGRESSION", "value": 419000.0, "num_examples": 10.0, "standard_deviation": 67512.95764221862}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 815.0}}]}, {"value": {"type": "REGRESSION", "value": 309205.875, "num_examples": 17.0, "standard_deviation": 113324.63023797778}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.7773809432983398}, "children": [{"value": {"type": "REGRESSION", "value": 356125.0, "num_examples": 12.0, "standard_deviation": 86510.14221272944}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1950", "1975"]}}, {"value": {"type": "REGRESSION", "value": 196600.0, "num_examples": 5.0, "standard_deviation": 87973.51594201516}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 254777.78125, "num_examples": 9.0, "standard_deviation": 112379.10032838529}}]}]}]}, {"value": {"type": "REGRESSION", "value": 343560.96875, "num_examples": 187.0, "standard_deviation": 88144.13200280308}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Property_Type/Category", "mask": ["House"]}, "children": [{"value": {"type": "REGRESSION", "value": 352545.40625, "num_examples": 174.0, "standard_deviation": 84163.3763225054}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1950", "1920", "1970", "1980", "1935", "1900", "2005"]}, "children": [{"value": {"type": "REGRESSION", "value": 379434.4375, "num_examples": 90.0, "standard_deviation": 81262.32512372249}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1980", "1935"]}, "children": [{"value": {"type": "REGRESSION", "value": 438076.9375, "num_examples": 13.0, "standard_deviation": 106254.38007584341}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 7.5}, "children": [{"value": {"type": "REGRESSION", "value": 404571.4375, "num_examples": 7.0, "standard_deviation": 72580.21137405168}}, {"value": {"type": "REGRESSION", "value": 477166.65625, "num_examples": 6.0, "standard_deviation": 124410.82996088231}}]}, {"value": {"type": "REGRESSION", "value": 369533.78125, "num_examples": 77.0, "standard_deviation": 71650.02904267014}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 123500.0}, "children": [{"value": {"type": "REGRESSION", "value": 385854.09375, "num_examples": 61.0, "standard_deviation": 66843.36859042132}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 4.5}, "children": [{"value": {"type": "REGRESSION", "value": 461666.65625, "num_examples": 6.0, "standard_deviation": 18856.079573678235}}, {"value": {"type": "REGRESSION", "value": 377583.625, "num_examples": 55.0, "standard_deviation": 64971.26331271068}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 131500.0}, "children": [{"value": {"type": "REGRESSION", "value": 389938.46875, "num_examples": 39.0, "standard_deviation": 67887.03140298655}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2017.0}, "children": [{"value": {"type": "REGRESSION", "value": 360617.65625, "num_examples": 17.0, "standard_deviation": 32591.748607388356}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2021.5}}, {"value": {"type": "REGRESSION", "value": 412595.46875, "num_examples": 22.0, "standard_deviation": 78558.3161807648}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2013.5}}]}, {"value": {"type": "REGRESSION", "value": 347468.75, "num_examples": 16.0, "standard_deviation": 44699.50869346888}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 3.5}, "children": [{"value": {"type": "REGRESSION", "value": 304400.0, "num_examples": 5.0, "standard_deviation": 25950.712668441305}}, {"value": {"type": "REGRESSION", "value": 367045.46875, "num_examples": 11.0, "standard_deviation": 37064.11238617761}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1920"]}}]}]}]}, {"value": {"type": "REGRESSION", "value": 307312.5, "num_examples": 16.0, "standard_deviation": 52770.39791161329}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1950", "1920", "2005"]}, "children": [{"value": {"type": "REGRESSION", "value": 336545.46875, "num_examples": 11.0, "standard_deviation": 28506.339570391778}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 8.5}, "children": [{"value": {"type": "REGRESSION", "value": 321000.0, "num_examples": 5.0, "standard_deviation": 25573.41494599421}}, {"value": {"type": "REGRESSION", "value": 349500.0, "num_examples": 6.0, "standard_deviation": 23991.318985555416}}]}, {"value": {"type": "REGRESSION", "value": 243000.0, "num_examples": 5.0, "standard_deviation": 33274.623219504705}}]}]}]}, {"value": {"type": "REGRESSION", "value": 323735.6875, "num_examples": 84.0, "standard_deviation": 77414.4546740649}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2020.5}, "children": [{"value": {"type": "REGRESSION", "value": 378012.5, "num_examples": 16.0, "standard_deviation": 62679.16900972762}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 746.0}, "children": [{"value": {"type": "REGRESSION", "value": 364820.0, "num_examples": 10.0, "standard_deviation": 67873.21458130598}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 121.85096740722656}, "children": [{"value": {"type": "REGRESSION", "value": 392840.0, "num_examples": 5.0, "standard_deviation": 68061.30497720429}}, {"value": {"type": "REGRESSION", "value": 336800.0, "num_examples": 5.0, "standard_deviation": 54872.256013398975}}]}, {"value": {"type": "REGRESSION", "value": 400000.0, "num_examples": 6.0, "standard_deviation": 44999.99549629596}}]}, {"value": {"type": "REGRESSION", "value": 310964.6875, "num_examples": 68.0, "standard_deviation": 74983.00957741686}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2015.5}, "children": [{"value": {"type": "REGRESSION", "value": 268885.65625, "num_examples": 21.0, "standard_deviation": 81812.17502061157}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1960"]}, "children": [{"value": {"type": "REGRESSION", "value": 331000.0, "num_examples": 8.0, "standard_deviation": 44425.48529841852}}, {"value": {"type": "REGRESSION", "value": 230661.46875, "num_examples": 13.0, "standard_deviation": 75909.45530860119}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 6.0}, "children": [{"value": {"type": "REGRESSION", "value": 264149.84375, "num_examples": 6.0, "standard_deviation": 76796.18166271178}}, {"value": {"type": "REGRESSION", "value": 201957.140625, "num_examples": 7.0, "standard_deviation": 62136.80472595141}}]}]}, {"value": {"type": "REGRESSION", "value": 329765.96875, "num_examples": 47.0, "standard_deviation": 63240.74190083803}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 800.5}, "children": [{"value": {"type": "REGRESSION", "value": 347900.0, "num_examples": 30.0, "standard_deviation": 55279.79501167982}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2010.5}, "children": [{"value": {"type": "REGRESSION", "value": 375909.09375, "num_examples": 11.0, "standard_deviation": 68520.99382797621}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 121.85096740722656}, "children": [{"value": {"type": "REGRESSION", "value": 419900.0, "num_examples": 5.0, "standard_deviation": 81142.08446915817}}, {"value": {"type": "REGRESSION", "value": 339250.0, "num_examples": 6.0, "standard_deviation": 12824.904781972915}}]}, {"value": {"type": "REGRESSION", "value": 331684.21875, "num_examples": 19.0, "standard_deviation": 37278.18178248908}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 3.5}, "children": [{"value": {"type": "REGRESSION", "value": 349000.0, "num_examples": 10.0, "standard_deviation": 31606.938580001606}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 11.5}}, {"value": {"type": "REGRESSION", "value": 312444.4375, "num_examples": 9.0, "standard_deviation": 33472.58446719628}}]}]}, {"value": {"type": "REGRESSION", "value": 297764.71875, "num_examples": 17.0, "standard_deviation": 63718.61797157571}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 613.0}, "children": [{"value": {"type": "REGRESSION", "value": 248571.421875, "num_examples": 7.0, "standard_deviation": 46114.32349794876}}, {"value": {"type": "REGRESSION", "value": 332200.0, "num_examples": 10.0, "standard_deviation": 50336.46624068883}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 305600.0, "num_examples": 5.0, "standard_deviation": 24004.982949379362}}, {"value": {"type": "REGRESSION", "value": 358800.0, "num_examples": 5.0, "standard_deviation": 55463.145067693404}}]}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 223307.6875, "num_examples": 13.0, "standard_deviation": 37534.363413123276}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1990", "1960", "1989", "1995", "2004"]}, "children": [{"value": {"type": "REGRESSION", "value": 247250.0, "num_examples": 8.0, "standard_deviation": 25474.259871485963}}, {"value": {"type": "REGRESSION", "value": 185000.0, "num_examples": 5.0, "standard_deviation": 15491.91479449845}}]}]}]}, {"value": {"type": "REGRESSION", "value": 129093.3359375, "num_examples": 75.0, "standard_deviation": 66427.23702043378}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1930", "1980"]}, "children": [{"value": {"type": "REGRESSION", "value": 210000.0, "num_examples": 6.0, "standard_deviation": 42720.02496878175}}, {"value": {"type": "REGRESSION", "value": 122057.96875, "num_examples": 69.0, "standard_deviation": 63394.640953493436}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 9.5}, "children": [{"value": {"type": "REGRESSION", "value": 82321.4296875, "num_examples": 14.0, "standard_deviation": 42121.25395249543}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1990.5}, "children": [{"value": {"type": "REGRESSION", "value": 137600.0, "num_examples": 5.0, "standard_deviation": 12370.91194698279}}, {"value": {"type": "REGRESSION", "value": 51611.109375, "num_examples": 9.0, "standard_deviation": 5839.411013762793}}]}, {"value": {"type": "REGRESSION", "value": 132172.734375, "num_examples": 55.0, "standard_deviation": 63921.98351042809}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 101500.0}, "children": [{"value": {"type": "REGRESSION", "value": 147968.078125, "num_examples": 47.0, "standard_deviation": 55148.096918161056}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2001.5}, "children": [{"value": {"type": "REGRESSION", "value": 183222.21875, "num_examples": 18.0, "standard_deviation": 60546.86078251525}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.2773809432983398}, "children": [{"value": {"type": "REGRESSION", "value": 218545.453125, "num_examples": 11.0, "standard_deviation": 44898.59252777535}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 135.35096740722656}, "children": [{"value": {"type": "REGRESSION", "value": 252200.0, "num_examples": 5.0, "standard_deviation": 31044.44731026795}}, {"value": {"type": "REGRESSION", "value": 190500.0, "num_examples": 6.0, "standard_deviation": 34091.79741032532}}]}, {"value": {"type": "REGRESSION", "value": 127714.2890625, "num_examples": 7.0, "standard_deviation": 34885.378278480115}}]}, {"value": {"type": "REGRESSION", "value": 126086.203125, "num_examples": 29.0, "standard_deviation": 37461.719799043145}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 708.0}, "children": [{"value": {"type": "REGRESSION", "value": 116937.5, "num_examples": 24.0, "standard_deviation": 25994.51460885546}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Car_x", "threshold": 1.2773809432983398}, "children": [{"value": {"type": "REGRESSION", "value": 124315.7890625, "num_examples": 19.0, "standard_deviation": 21582.283161936197}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 6.5}, "children": [{"value": {"type": "REGRESSION", "value": 132277.78125, "num_examples": 9.0, "standard_deviation": 18950.3850548847}}, {"value": {"type": "REGRESSION", "value": 117150.0, "num_examples": 10.0, "standard_deviation": 21293.25111860565}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 152250.0}, "children": [{"value": {"type": "REGRESSION", "value": 131800.0, "num_examples": 5.0, "standard_deviation": 12204.903932436338}}, {"value": {"type": "REGRESSION", "value": 102500.0, "num_examples": 5.0, "standard_deviation": 18127.338646365042}}]}]}, {"value": {"type": "REGRESSION", "value": 88900.0, "num_examples": 5.0, "standard_deviation": 21918.941507289994}}]}, {"value": {"type": "REGRESSION", "value": 170000.0, "num_examples": 5.0, "standard_deviation": 50655.7003149695}}]}]}, {"value": {"type": "REGRESSION", "value": 39375.0, "num_examples": 8.0, "standard_deviation": 12103.071965414401}}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 189123.96875, "num_examples": 499.0, "standard_deviation": 119405.8152899822}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "SaleType", "mask": ["MS"]}, "children": [{"value": {"type": "REGRESSION", "value": 466733.34375, "num_examples": 30.0, "standard_deviation": 143150.01535576422}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["TRD", "NOT"]}, "children": [{"value": {"type": "REGRESSION", "value": 513320.0, "num_examples": 25.0, "standard_deviation": 103676.68556430614}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1970", "1990", "1978"]}, "children": [{"value": {"type": "REGRESSION", "value": 581250.0, "num_examples": 16.0, "standard_deviation": 43714.21951722346}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1990"]}, "children": [{"value": {"type": "REGRESSION", "value": 622500.0, "num_examples": 8.0, "standard_deviation": 4330.267428231195}}, {"value": {"type": "REGRESSION", "value": 540000.0, "num_examples": 8.0, "standard_deviation": 19999.74399836158}}]}, {"value": {"type": "REGRESSION", "value": 392555.5625, "num_examples": 9.0, "standard_deviation": 60606.410235058975}}]}, {"value": {"type": "REGRESSION", "value": 233800.0, "num_examples": 5.0, "standard_deviation": 64013.75162260062}}]}, {"value": {"type": "REGRESSION", "value": 171366.4375, "num_examples": 469.0, "standard_deviation": 92811.57284172892}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "LandUse1", "mask": ["MUD"]}, "children": [{"value": {"type": "REGRESSION", "value": 365000.0, "num_examples": 6.0, "standard_deviation": 169705.6393641649}}, {"value": {"type": "REGRESSION", "value": 168857.15625, "num_examples": 463.0, "standard_deviation": 88657.87556976826}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bath_x", "threshold": 1.1698565483093262}, "children": [{"value": {"type": "REGRESSION", "value": 127780.53125, "num_examples": 120.0, "standard_deviation": 104208.8759801625}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2004.5}, "children": [{"value": {"type": "REGRESSION", "value": 233283.328125, "num_examples": 30.0, "standard_deviation": 91693.29396102105}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "-", "1940", "1950", "1920", "1985", "2004", "1986"]}, "children": [{"value": {"type": "REGRESSION", "value": 267956.53125, "num_examples": 23.0, "standard_deviation": 75125.66880776998}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1920", "1985", "2004"]}, "children": [{"value": {"type": "REGRESSION", "value": 325285.71875, "num_examples": 7.0, "standard_deviation": 49163.58833153516}}, {"value": {"type": "REGRESSION", "value": 242875.0, "num_examples": 16.0, "standard_deviation": 70630.08111987413}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "SaleType", "mask": ["NM"]}, "children": [{"value": {"type": "REGRESSION", "value": 275181.8125, "num_examples": 11.0, "standard_deviation": 50814.835295893245}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-"]}, "children": [{"value": {"type": "REGRESSION", "value": 308666.65625, "num_examples": 6.0, "standard_deviation": 46284.12535152368}}, {"value": {"type": "REGRESSION", "value": 235000.0, "num_examples": 5.0, "standard_deviation": 12247.430424378821}}]}, {"value": {"type": "REGRESSION", "value": 171800.0, "num_examples": 5.0, "standard_deviation": 54175.26697673026}}]}]}, {"value": {"type": "REGRESSION", "value": 119357.140625, "num_examples": 7.0, "standard_deviation": 23650.29780198228}}]}, {"value": {"type": "REGRESSION", "value": 92612.9296875, "num_examples": 90.0, "standard_deviation": 82034.90740258753}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["TRD"]}, "children": [{"value": {"type": "REGRESSION", "value": 144375.0, "num_examples": 16.0, "standard_deviation": 162161.8096562813}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 115.5}, "children": [{"value": {"type": "REGRESSION", "value": 293500.0, "num_examples": 5.0, "standard_deviation": 227342.46898632904}}, {"value": {"type": "REGRESSION", "value": 76590.90625, "num_examples": 11.0, "standard_deviation": 7307.581635217798}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 85.5}, "children": [{"value": {"type": "REGRESSION", "value": 82100.0, "num_examples": 5.0, "standard_deviation": 2799.9834285223565}}, {"value": {"type": "REGRESSION", "value": 72000.0, "num_examples": 6.0, "standard_deviation": 6708.199162219321}}]}]}, {"value": {"type": "REGRESSION", "value": 81421.1328125, "num_examples": 74.0, "standard_deviation": 42361.722324275666}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1991.0}, "children": [{"value": {"type": "REGRESSION", "value": 109231.25, "num_examples": 40.0, "standard_deviation": 38089.34292210223}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 5.5}, "children": [{"value": {"type": "REGRESSION", "value": 97941.6640625, "num_examples": 30.0, "standard_deviation": 31840.465823993363}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1999.5}, "children": [{"value": {"type": "REGRESSION", "value": 79222.21875, "num_examples": 9.0, "standard_deviation": 33269.19638269937}}, {"value": {"type": "REGRESSION", "value": 105964.2890625, "num_examples": 21.0, "standard_deviation": 27557.32891739009}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 7.5}, "children": [{"value": {"type": "REGRESSION", "value": 100890.625, "num_examples": 16.0, "standard_deviation": 24506.21143933462}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 121.85096740722656}}, {"value": {"type": "REGRESSION", "value": 122200.0, "num_examples": 5.0, "standard_deviation": 30360.497071029644}}]}]}, {"value": {"type": "REGRESSION", "value": 143100.0, "num_examples": 10.0, "standard_deviation": 35103.989562441486}}]}, {"value": {"type": "REGRESSION", "value": 48703.3515625, "num_examples": 34.0, "standard_deviation": 14783.452388481232}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1987.5}, "children": [{"value": {"type": "REGRESSION", "value": 57472.22265625, "num_examples": 18.0, "standard_deviation": 10503.269160681757}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 130000.0}, "children": [{"value": {"type": "REGRESSION", "value": 59208.33203125, "num_examples": 12.0, "standard_deviation": 12467.388281254232}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "ValuationAmount", "threshold": 178500.0}, "children": [{"value": {"type": "REGRESSION", "value": 60600.0, "num_examples": 5.0, "standard_deviation": 5633.830384383275}}, {"value": {"type": "REGRESSION", "value": 58214.28515625, "num_examples": 7.0, "standard_deviation": 15537.642896382653}}]}, {"value": {"type": "REGRESSION", "value": 54000.0, "num_examples": 6.0, "standard_deviation": 1414.198477348032}}]}, {"value": {"type": "REGRESSION", "value": 38838.375, "num_examples": 16.0, "standard_deviation": 12509.546329079045}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 8.5}, "children": [{"value": {"type": "REGRESSION", "value": 35439.63671875, "num_examples": 11.0, "standard_deviation": 9797.485384922426}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1983.0}, "children": [{"value": {"type": "REGRESSION", "value": 33889.33203125, "num_examples": 6.0, "standard_deviation": 10411.3132483638}}, {"value": {"type": "REGRESSION", "value": 37300.0, "num_examples": 5.0, "standard_deviation": 8646.38486305115}}]}, {"value": {"type": "REGRESSION", "value": 46315.6015625, "num_examples": 5.0, "standard_deviation": 14431.298868778244}}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 183227.984375, "num_examples": 343.0, "standard_deviation": 77550.53491925175}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2003.5}, "children": [{"value": {"type": "REGRESSION", "value": 200962.328125, "num_examples": 292.0, "standard_deviation": 69180.63067849595}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 410.0}, "children": [{"value": {"type": "REGRESSION", "value": 301895.3125, "num_examples": 43.0, "standard_deviation": 84026.47361495312}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "Bed_x", "threshold": 1.5}, "children": [{"value": {"type": "REGRESSION", "value": 283837.78125, "num_examples": 37.0, "standard_deviation": 66820.16650000491}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1960", "1910", "1900"]}, "children": [{"value": {"type": "REGRESSION", "value": 342749.8125, "num_examples": 10.0, "standard_deviation": 34322.80913853066}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "DevelopmentZone", "mask": ["CHAR"]}, "children": [{"value": {"type": "REGRESSION", "value": 361500.0, "num_examples": 5.0, "standard_deviation": 24677.87290671538}}, {"value": {"type": "REGRESSION", "value": 323999.59375, "num_examples": 5.0, "standard_deviation": 32310.571691630485}}]}, {"value": {"type": "REGRESSION", "value": 262018.515625, "num_examples": 27.0, "standard_deviation": 62616.2930461573}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 7.5}, "children": [{"value": {"type": "REGRESSION", "value": 223346.15625, "num_examples": 13.0, "standard_deviation": 48546.22747578003}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1940", "1930"]}, "children": [{"value": {"type": "REGRESSION", "value": 258800.0, "num_examples": 5.0, "standard_deviation": 38706.08344950442}}, {"value": {"type": "REGRESSION", "value": 201187.5, "num_examples": 8.0, "standard_deviation": 40208.585199556575}}]}, {"value": {"type": "REGRESSION", "value": 297928.5625, "num_examples": 14.0, "standard_deviation": 51912.29808287135}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2018.0}, "children": [{"value": {"type": "REGRESSION", "value": 252600.0, "num_examples": 5.0, "standard_deviation": 12334.534283871442}}, {"value": {"type": "REGRESSION", "value": 323111.125, "num_examples": 9.0, "standard_deviation": 48289.48623652622}}]}]}]}, {"value": {"type": "REGRESSION", "value": 413250.0, "num_examples": 6.0, "standard_deviation": 93034.71051888829}}]}, {"value": {"type": "REGRESSION", "value": 183532.125, "num_examples": 249.0, "standard_deviation": 48270.93821903335}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2013.5}, "children": [{"value": {"type": "REGRESSION", "value": 162543.703125, "num_examples": 135.0, "standard_deviation": 45493.706154860585}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["-", "1990", "1985", "1989", "1994", "1995", "1978", "1991", "2005", "1998"]}, "children": [{"value": {"type": "REGRESSION", "value": 188586.890625, "num_examples": 61.0, "standard_deviation": 30486.99819089688}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1995", "1998"]}, "children": [{"value": {"type": "REGRESSION", "value": 222300.0, "num_examples": 10.0, "standard_deviation": 20789.652426147004}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 98.5}, "children": [{"value": {"type": "REGRESSION", "value": 212400.0, "num_examples": 5.0, "standard_deviation": 17083.32969886136}}, {"value": {"type": "REGRESSION", "value": 232200.0, "num_examples": 5.0, "standard_deviation": 19405.13185732067}}]}, {"value": {"type": "REGRESSION", "value": 181976.46875, "num_examples": 51.0, "standard_deviation": 27575.374904285116}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 81.5}, "children": [{"value": {"type": "REGRESSION", "value": 189341.671875, "num_examples": 36.0, "standard_deviation": 18139.76361171461}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 106.0}}, {"value": {"type": "REGRESSION", "value": 164300.0, "num_examples": 15.0, "standard_deviation": 36783.062435492444}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2020.5}}]}]}, {"value": {"type": "REGRESSION", "value": 141075.671875, "num_examples": 74.0, "standard_deviation": 44605.11854888044}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2020.5}, "children": [{"value": {"type": "REGRESSION", "value": 161087.5, "num_examples": 40.0, "standard_deviation": 33717.92581624793}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1970", "1993"]}, "children": [{"value": {"type": "REGRESSION", "value": 184818.1875, "num_examples": 11.0, "standard_deviation": 38743.48913235304}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "Zoning", "mask": ["NBH"]}}, {"value": {"type": "REGRESSION", "value": 152086.203125, "num_examples": 29.0, "standard_deviation": 26535.61724768837}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1980", "1975", "1992", "1983", "1986"]}}]}, {"value": {"type": "REGRESSION", "value": 117532.3515625, "num_examples": 34.0, "standard_deviation": 44355.17396299103}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2018.5}, "children": [{"value": {"type": "REGRESSION", "value": 81925.0, "num_examples": 12.0, "standard_deviation": 35991.36678427203}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["<OOD>", "1950", "1975", "1993", "1979"]}}, {"value": {"type": "REGRESSION", "value": 136954.546875, "num_examples": 22.0, "standard_deviation": 35568.72373911879}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1980", "1975", "1993", "1992", "1986"]}}]}]}]}, {"value": {"type": "REGRESSION", "value": 208386.84375, "num_examples": 114.0, "standard_deviation": 38717.452617464296}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1960", "1993", "1994", "2004", "1998"]}, "children": [{"value": {"type": "REGRESSION", "value": 253710.53125, "num_examples": 19.0, "standard_deviation": 40205.16451162955}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1960", "2004"]}, "children": [{"value": {"type": "REGRESSION", "value": 301600.0, "num_examples": 5.0, "standard_deviation": 33499.86144448963}}, {"value": {"type": "REGRESSION", "value": 236607.140625, "num_examples": 14.0, "standard_deviation": 26102.92487950928}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 102.5}, "children": [{"value": {"type": "REGRESSION", "value": 245277.78125, "num_examples": 9.0, "standard_deviation": 27737.952859566045}}, {"value": {"type": "REGRESSION", "value": 221000.0, "num_examples": 5.0, "standard_deviation": 11999.980266650506}}]}]}, {"value": {"type": "REGRESSION", "value": 199322.109375, "num_examples": 95.0, "standard_deviation": 31345.51945400722}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2006.5}, "children": [{"value": {"type": "REGRESSION", "value": 208580.0, "num_examples": 70.0, "standard_deviation": 30712.71387552716}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2010.5}, "children": [{"value": {"type": "REGRESSION", "value": 196336.359375, "num_examples": 33.0, "standard_deviation": 27098.54483157676}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "BuildingArea", "threshold": 90.5}}, {"value": {"type": "REGRESSION", "value": 219500.0, "num_examples": 37.0, "standard_deviation": 29608.70606079565}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2009.5}}]}, {"value": {"type": "REGRESSION", "value": 173400.0, "num_examples": 25.0, "standard_deviation": 13437.267436499127}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "YearBuilt", "mask": ["1975", "1990", "1985", "1989", "1992"]}, "children": [{"value": {"type": "REGRESSION", "value": 181066.671875, "num_examples": 15.0, "standard_deviation": 11078.319070248073}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 8.5}}, {"value": {"type": "REGRESSION", "value": 161900.0, "num_examples": 10.0, "standard_deviation": 6847.626858992718}}]}]}]}]}]}, {"value": {"type": "REGRESSION", "value": 81690.1953125, "num_examples": 51.0, "standard_deviation": 30579.079172211466}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 2001.5}, "children": [{"value": {"type": "REGRESSION", "value": 118100.0, "num_examples": 10.0, "standard_deviation": 37399.06287595988}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 631.5}, "children": [{"value": {"type": "REGRESSION", "value": 138400.0, "num_examples": 5.0, "standard_deviation": 26188.542716233726}}, {"value": {"type": "REGRESSION", "value": 97800.0, "num_examples": 5.0, "standard_deviation": 35879.79986566257}}]}, {"value": {"type": "REGRESSION", "value": 72809.7578125, "num_examples": 41.0, "standard_deviation": 20489.19774498734}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1989.5}, "children": [{"value": {"type": "REGRESSION", "value": 81882.140625, "num_examples": 28.0, "standard_deviation": 17501.36863161254}, "condition": {"type": "CATEGORICAL_IS_IN", "attribute": "LandUse1", "mask": ["BUP"]}, "children": [{"value": {"type": "REGRESSION", "value": 89629.4140625, "num_examples": 17.0, "standard_deviation": 17521.744121683332}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 85.5}, "children": [{"value": {"type": "REGRESSION", "value": 99600.0, "num_examples": 10.0, "standard_deviation": 16216.966522750201}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "MthSaleDate", "threshold": 4.0}, "children": [{"value": {"type": "REGRESSION", "value": 93400.0, "num_examples": 5.0, "standard_deviation": 17948.260216522358}}, {"value": {"type": "REGRESSION", "value": 105800.0, "num_examples": 5.0, "standard_deviation": 11267.651112809643}}]}, {"value": {"type": "REGRESSION", "value": 75385.7109375, "num_examples": 7.0, "standard_deviation": 4999.84336081174}}]}, {"value": {"type": "REGRESSION", "value": 69909.09375, "num_examples": 11.0, "standard_deviation": 8311.59559623611}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "YrSaleDate", "threshold": 1996.5}, "children": [{"value": {"type": "REGRESSION", "value": 71750.0, "num_examples": 6.0, "standard_deviation": 9741.44718885921}}, {"value": {"type": "REGRESSION", "value": 67700.0, "num_examples": 5.0, "standard_deviation": 5399.999703703713}}]}]}, {"value": {"type": "REGRESSION", "value": 53269.23046875, "num_examples": 13.0, "standard_deviation": 10255.608403014237}, "condition": {"type": "NUMERICAL_IS_HIGHER_THAN", "attribute": "LandSize", "threshold": 88.5}, "children": [{"value": {"type": "REGRESSION", "value": 60000.0, "num_examples": 8.0, "standard_deviation": 6123.721744168329}}, {"value": {"type": "REGRESSION", "value": 42500.0, "num_examples": 5.0, "standard_deviation": 5000.002239999508}}]}]}]}]}]}]}]}]}, "#tree_plot_333c3a0cb874416580407b1fe660286b")
</script>
